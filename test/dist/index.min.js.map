{"version":3,"sources":["index.js"],"names":["server","require","request","expect","describe","done","app","err","get","res","put","it","post","first_name","end","after","close"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,aACjBC,QAAUD,QAAQ,aADlBD,OAASC,QAAQ,QAAAE,OACvBC,SAAMF,qBAAkB,WAClBC,IAAAA,EAENC,OAAS,SAAAC,GAICC,EAACN,OAASK,OAAM,IAAA,SAAAE,GAEZP,GAAMO,EAAN,OAAoBF,EAAAE,GAClBA,QACJF,GAAAA,uCAFJ,SAAAA,GAMDH,QAAAF,QAGaA,IACHQ,KAGYL,OAAA,eAAA,QAASE,OAAP,IAAA,SAAAE,EAAAE,GAAmB,GAAAF,EAAA,OAAAF,EAAAE,GAE1BF,QAMZH,GAAAA,uDAGI,SAASG,GAAEH,QAAYK,QAAOG,IAAA,KADjCP,OAAO,IAAK,SAASI,EAAKE,GAGnB,GAAAF,EAAA,OAAAF,EAAAE,GAPhBF,QAiBgBM,GAAA,2EAEHR,SANLE,GAFRH,QAAAF,QAaGY,KAAA,KAEaZ,KACHY,CAHbC,WAAA,OAQeR,UAAM,SAETF,OAAA,KADRA,OAAA,WAAA,KADJW,IAAAT,KARAM,GAAG,2EACC,SAAUN,GACNH,QAAQF,QACHY,KAAK,KACLT,OAAO,KACPW,IAAIT,KAGjBU,MAAM,SAASV,GACXC,EAAIU,MAAM,WACNX","file":"index.min.js","sourcesContent":["const server = require('../server');\r\nconst request = require('supertest');\r\nconst expect = require('chai').expect;\r\n\r\ndescribe('The express server', function () {\r\n\r\n    var app;\r\n\r\n    before(function(done) {\r\n\r\n        app = server.listen(3000, function (err) {\r\n            if (err) { return done(err); }\r\n            done();\r\n        });\r\n    });\r\n\r\n    it('should render html for the root path',\r\n        function (done) {\r\n\r\n            request(server)\r\n                .get('/')\r\n                .expect('Content-Type', /html/)\r\n                .expect(200, function(err, res) {\r\n                    if (err) { return done(err); }\r\n\r\n                    done();\r\n                });\r\n        });\r\n\r\n    it('should not respond to PUT requests for the root path',\r\n        function(done) {\r\n            request(server)\r\n            .put('/')\r\n            .expect(404, function(err, res) {\r\n                if (err) { return done(err); }\r\n\r\n                done();\r\n            });\r\n        });\r\n\r\n    it('should respond to valid POST requests for teh root path, with a redirect',\r\n        function (done) {\r\n            request(server)\r\n                .post('/')\r\n                .send({\r\n                    \"first_name\": \"test\",\r\n                    \"last_name\": \"test\"\r\n                })\r\n                .expect(302)\r\n                .expect('Location', '/')\r\n                .end(done);\r\n        });\r\n\r\n    it('should respond to invalid POST requests for the root path, with an error',\r\n        function (done) {\r\n            request(server)\r\n                .post('/')\r\n                .expect(400)\r\n                .end(done);\r\n        });\r\n\r\n    after(function(done) {\r\n        app.close(function() {\r\n            done();\r\n        });\r\n    })\r\n\r\n});\r\n"]}