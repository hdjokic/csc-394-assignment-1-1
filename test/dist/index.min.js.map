{"version":3,"sources":["index.js"],"names":["server","require","request","expect","describe","app","done","listen","err","it","get","res","send","first_name","last_name","post","close","after"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,aACjBC,QAAUD,QAAQ,aADlBD,OAASC,QAAQ,QAAAE,OACvBC,SAAMF,qBAAkB,WAIpB,IAAIG,EAHFF,OAAM,SAAUG,GAKdD,EAAML,OAAOO,OAAO,IAAM,SAAUC,GAHnC,GAAAA,EAAA,OAAAF,EAAsBE,GAC3BF,QAGiBG,GAAA,uCAAA,SAAAH,GAAkBJ,QAAAF,QAO1BU,IAAI,KANDP,OAAA,eAAA,QAFRA,OAAA,IAAA,SAAAK,EAAAG,GADJ,GAAAH,EAAA,OAAAF,EAAAE,GAOGF,QAKiBG,GAAA,uDAAkB,SAAAH,GAMlCJ,QAAQF,QALAM,IAAI,KALZH,OAAA,IAAA,SAAAK,EAAAG,GADJ,GAAAH,EAAA,OAAAF,EAAAE,GASGF,QAKaG,GAAA,0EAAkB,SAAAH,GAM9BJ,QAAQF,QALJM,KAAI,KAJRM,KAAA,CAFJC,WAAA,OASGC,UAAA,SAKKX,OAAA,KACAA,OAAA,WAAY,KAEfA,IANDG,KAUFG,GAAC,0EAECP,SAAQF,GAFZE,QAAAF,QASMe,KAAA,KACEC,OAAM,KACNV,IAAIA,KAFZW,MAAM,SAASX,GACXD,EAAIW,MAAM,WACNV","file":"index.min.js","sourcesContent":["const server = require('../server');\r\nconst request = require('supertest');\r\nconst expect = require('chai').expect;\r\n\r\ndescribe('The express server', function(){\r\n    var app;\r\n    before(function(done){\r\n        app = server.listen(3000, function (err){\r\n            if(err) {return done(err);}\r\n            done();\r\n        });\r\n    });\r\n\r\n    it('should render html for the root path', function(done){\r\n        request(server)\r\n            .get('/')\r\n            .expect('Content-Type', /html/)\r\n            .expect(200, function(err,res){\r\n                if(err){return done(err);}\r\n                done();\r\n            });\r\n    });\r\n    it('should not respond to PUT requests for the root path',\r\n    function(done){\r\n        request(server)\r\n        .put('/')\r\n        .expect(404, function(err,res){\r\n            if(err){return done(err);}\r\n            done();\r\n        });\r\n    });\r\n    it('should respond to valid POST request for the root path, with a redirect', \r\n    function(done){\r\n        request(server)\r\n        .post('/')\r\n        .send({\r\n            \"first_name\": \"test\",\r\n            \"last_name\":\"test\"\r\n        })\r\n        .expect(302)\r\n        .expect('Location', '/')\r\n        .end(done);\r\n    });\r\n    it('should respond to invalid POST request for the root path, with an error', \r\n    function(done){\r\n        request(server)\r\n        .post('/')\r\n        .expect(400)\r\n        .end(done);\r\n    });\r\n\r\n\r\n    after(function(done){\r\n        app.close(function(){\r\n            done();\r\n        });\r\n    })\r\n});"]}